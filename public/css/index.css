/*
TODO:

1. Move the code to @layers
2. Work on a decent dark mode
3. Remove code duplication in admonitions
4. Pick better admonition colors
*/

@import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css");

/* Custom OL style declaration */
@counter-style circled-decimal {
  system: fixed 0;
  symbols: "\24EA""\2460""\2461""\2462""\2463""\2464""\2465""\2466""\2467""\2468""\2469""\246A""\246B""\246C""\246D""\246E""\246F""\2470""\2471""\2472""\2473""\3251""\3252""\3253""\3254""\3255""\3256""\3257""\3258""\3259""\325a""\325b""\325c""\325d""\325e""\325f""\32b1""\32b2""\32b3""\32b4""\32b5""\32b6""\32b7""\32b8""\32b9""\32ba""\32bb""\32bc""\32bd""\32be""\32bf";

  suffix: " ";
}

/* Font Import */
@font-face {
  font-family: 'Recursive';
  src: url('/fonts/Recursive.woff2')
		format('woff2')
		tech(variations);
		display: swap;
		font-weight: 300 1000;
    unicode-range: U+000D, U+0020-007E, U+00A0-00FF, U+0131, U+0152-0153,
        U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2007-200B, U+2010, U+2012-2015,
        U+2018-201A, U+201C-201E, U+2020-2022, U+2026, U+2030, U+2032-2033,
        U+2039-203A, U+203E, U+2044, U+2052, U+2074, U+20AC, U+2122, U+2191,
        U+2193, U+2212, U+2215;
}


:root {
	/* Set custom properties for each layout feature */
	--recursive-sans-linear-light-dnom: "dnom" off;
	--recursive-sans-linear-light-frac: "frac" off;
	--recursive-sans-linear-light-numr: "numr" off;

	/* Defaults */
	--font-family: Recursive, Verdana, sans-serif;
	--font-family-system: -apple-system, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
	--font-family-monospace: Recursive, Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;

	/* Theme colors */
	--color-gray-20: rgb(197, 197, 208)
	--color-gray-50: rgb(64, 63, 78)
	--color-gray-90: rgb(51, 51, 51);

	--color-white: rgb(255, 254, 252);
	--color-black: rgb(34, 32, 35);

	--link-color: rgb(205, 38, 83);
	--background-color: var(--color-white);

	--text-color: var(--color-black)
	--link-color-active: var(--link-color);
	--link-color-visited: var(--text-color);

	--syntax-tab-size: 2;

	/* Typography*/
	--base-font-size: 1.25;
	--base-line-height: 1.5;
	--base-font-weight: 400;
	--h1-size: 3.052;
	--h2-size: 2.441;
	--h3-size: 1.953;
	--h4-size: 1.563;
	--h5-size: 1.25;
	--heading-weight: 700;
	--heading-line-height: 1.3;
	--small-size: 0.8;

	/* Unicode icons */
	--icon-arrow-left-short: "\F12C";
	--icon-arrow-right-short: "\F135";
	--icon-arrow-left-circle: "\F12A";
	--icon-arrow-right-circle: "\F134";
	--icon-arrow-down-circle: "\F119";
	--icon-clipboard2-check-fill: "\F724";
	--icon-comments: "\F268";
	--icon-date: "\F1F6";
	--icon-edit: "\F4CA";
	--icon-exclamation-triangle-fill: "\F33A";
	--icon-eyeglasses: "\F343";
	--icon-info-lg: "\F646";
	--icon-question-lg: "\F64E";
	--icon-lightbulb-fill: "\F468";
	--icon-rss-fill: "\F521";
	--icon-stopwatch: "\F597";
	--icon-tags: "\F5B2";
}

/* If class is applied, update custom property and
 apply modern font-variant-* when supported */
.recursive-sans-linear-light-dnom {
	--recursive-sans-linear-light-dnom: "dnom" on;
}

.recursive-sans-linear-light-frac {
	--recursive-sans-linear-light-frac: "frac" on;
}

@supports (font-variant-numeric: diagonal-fractions) {
	.recursive-sans-linear-light-frac {
			--recursive-sans-linear-light-frac: "____";
			font-feature-settings: "frac";
			font-variant-numeric: diagonal-fractions;
	}
}

.recursive-sans-linear-light-numr {
	--recursive-sans-linear-light-numr: "numr" on;
}

/* Apply current state of all custom properties
 whenever a class is being applied */
.recursive-sans-linear-light-dnom,
.recursive-sans-linear-light-frac,
.recursive-sans-linear-light-numr {
	font-feature-settings: "dnom" off, "frac" off,
			"numr" off;
	font-feature-settings: var(--recursive-sans-linear-light-dnom), var(--recursive-sans-linear-light-frac),
			var(--recursive-sans-linear-light-numr);
}



html {
	font-size: calc(1.25 * 1rem);
	font-size: calc(var(--base-font-size) * 1rem)
}

h1, h2, h3, h4, h5 {
  margin: 3rem 0 1.38rem;
  font-family: Recursive, Verdana, sans-serif;
  font-family: var(--font-family);
  font-weight: var(--heading-font-weight);
  line-height: 1.3;
  line-height: var(--heading-line-height);
}

h1 {
  margin-top: 0;
  font-size: calc(3.052 * 1rem);
  font-size: calc(var(--h1-size) * 1rem);
}

h2 {
	font-size: calc(2.441 * 1rem);
	font-size: calc(var(--h2-size) * 1rem);
}

h3 {
	font-size: calc(1.953 * 1rem);
	font-size: calc(var(--h3-size) * 1rem);
}

h4 {
	font-size: calc(1.563 * 1rem);
	font-size: calc(var(--h4-size) * 1rem);
}

h5 {
	font-size: calc(1.25 * 1rem);
	font-size: calc(var(--h5-size) * 1rem);
}

h6 {
	text-transform: uppercase;
}

small,
.text_small {
	font-size: calc(0.8 * 1rem);
	font-size: calc(var(--small-size) * 1rem);
}


/* Set the grid container dimensions */
.grid-container {
	display: grid;
  grid-template-columns: 2fr 1fr 1fr 2fr 2fr 1fr 1fr 2fr;
  grid-gap: 1rem;
  gap: 1rem;
}

img.full-bleed-header {
	grid-column: 1/-1;
	width: 100% !important;
	height: auto;
}

/* Grid placement */
header {
	grid-column: 3/7;
}

main {
	grid-column: 3/8;
}

footer {
	grid-column: 1/-1;
}

/* Definition Lists */
dd,
dt {
  line-height: 1.25;
}

dt {
  font-weight: 800;
}

dd {
	margin-bottom: 1rem;
}

/* Continue Reading */
.continue-reading {
	align-self: flex-end;
	/* display: flex;
	flex-direction: row;
	justify-content: flex-end !important; */
}

.continue-reading a {
  padding: 1em;
  font-size: 90%;
  -webkit-text-decoration: none;
  text-decoration: none;
	color: rgb(34, 32, 35);
	color: var(--color-black);
}

.continue-reading a:focus,
.continue-reading a:hover {
	/* Figure out why I had to add !important here */
  color: rgb(255, 254, 252) !important;
  color: var(--color-white) !important;
  background-color: rgb(205, 38, 83) !important;
  background-color: var(--link-color) !important;
}

/* figures and images */


article {
	counter-reset: figures;
	content-visibility: auto;
}

figure {
	counter-increment: figures;
}

figure > figcaption::before {
		margin-top: 0.5em;
		content: "Figure " counter(figures) ": ";
		width: -moz-max-content;
		width: max-content;
	}

figure > img {
		width: 600px;
		max-width: 600px;
		height: auto;
	}

* {
	box-sizing: border-box;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-weight: 400;
	font-weight: var(--base-font-weight);
  line-height: 1.5;
  line-height: var(--base-line-height);
	font-family: Recursive, Verdana, sans-serif;
	font-family: var(--font-family);
	color: rgb(34, 32, 35)
	--link-color-active: rgb(205, 38, 83);
	color: var(--text-color);
	background-color: rgb(255, 254, 252);
	background-color: var(--background-color);
}
html {
	overflow-y: scroll;
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden {
	clip: rect(0 0 0 0);
	-webkit-clip-path: inset(50%);
	        clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

p {
	margin-bottom: 1rem;
}

a[href] {
	color: rgb(205, 38, 83);
	color: var(--link-color);
}
a[href]:visited {
	color: rgb(34, 32, 35)
	--link-color-active: rgb(205, 38, 83);
	color: var(--link-color-visited);
}
a[href]:hover,
a[href]:active {
	color: var(--link-color-active);
}

a[href*="web.archive"]::after {
	content: "";
  width: 20px;
  height: 20px;
  margin-left: 10px;
  background-image: url("https://res.cloudinary.com/dfh6ihzvj/image/upload/v1699174096/ia-logo.svg");
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
  display: inline-block;
}

main {
	padding: 1rem;
}
main :first-child {
	margin-top: 0;
}

header {
	border-bottom: 1px dashed rgb(197, 197, 208)
	--color-gray-50: rgb(64, 63, 78)
	--color-gray-90: rgb(51, 51, 51);
	border-bottom: 1px dashed var(--color-gray-20);
}

header:after {
	content: "";
	display: table;
	clear: both;
}

.links-nextprev {
	list-style: none;
	border-top: 1px dashed rgb(197, 197, 208)
	--color-gray-50: rgb(64, 63, 78)
	--color-gray-90: rgb(51, 51, 51);
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}

table {
  table-layout: fixed;
  border-collapse: collapse;
	margin-bottom: 2rem;

}

thead tr {
  background: rgb(34, 32, 35);
  background: var(--color-black);
  color: rgb(255, 254, 252);
  color: var(--background-color);
}

tbody tr:nth-child(even) {
	background-color: rgba(34, 32, 35, 0.125)
}

tr {
	padding-left: 1.25rem;
	padding-right: 0.25rem;
	overflow-x: auto;
}

th,
td {
	border: 3px solid black;
}



pre,
code {
	font-family: Recursive, Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono, Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono, Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New, Courier, monospace;
	font-family: var(--font-family-monospace);
	font-variation-settings: "MONO" 1, "CASL" 0, "wght" 500, "slnt" 0,
	"CRSV" 0.501;

}
pre:not([class*="language-"]) {
	margin: .5em 0;
	line-height: 1.375; /* 22px /16 */
	-moz-tab-size: 2;
	-moz-tab-size: var(--syntax-tab-size);
	-o-tab-size: 2;
	-o-tab-size: var(--syntax-tab-size);
	tab-size: 2;
	tab-size: var(--syntax-tab-size);
	-webkit-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
}

code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	gap: 1em .5em;
	flex-flow: row wrap;
	align-items: center;
	padding: 1em;
}
.home-link {
	font-size: 1em; /* 18px /16 */
	font-weight: 700;
	margin-right: 2em;
}
.home-link:link:not(:hover) {
	-webkit-text-decoration: none;
	text-decoration: none;
}

/* Nav */
.nav-top-menu-container {
	grid-column: 1/1;
	grid-row: 3;
}

.nav-top-menu {
	list-style: none;

  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.nav-item {
	margin-right: 1em;
}

.nav-item a[href]:not(:hover) {
	-webkit-text-decoration: none;
	text-decoration: none;
}

/* .nav a[href][aria-current="page"] {
	text-decoration: underline;
} */

/* Posts list */
.postlist-item {
	display: flex;
	flex-flow: column;
	/* flex-wrap: wrap; */
	align-items: baseline;
	/* counter-increment: start-from -1; */
	margin-bottom: 1em;
}

.postlist-date,
.postlist-item:before {
	font-size: 0.8125em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
}
.postlist-link {
	font-size: calc(2.441 * 1rem);
	font-size: calc(var(--h2-size) * 1rem);
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	/* padding-left: .25em;
	padding-right: .5em; */
	-webkit-text-decoration-skip: ink;
	        text-decoration-skip-ink: auto;
	text-underline-offset: 8px;
	text-decoration-thickness: 2px;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-transform: capitalize;
	font-style: italic;
}
.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: .5em;
	list-style: none;
	padding: 0;
	margin: 0;
}

.post-metadata time {
	margin-right: 1em;
}

/* Direct Links / Markdown Headers */
.header-anchor {
	-webkit-text-decoration: none;
	text-decoration: none;
	font-style: normal;
	font-size: 1em;
	margin-left: .1em;
}

a[href].header-anchor,
a[href].header-anchor:visited {
	color: transparent;
}

a[href].header-anchor:focus,
a[href].header-anchor:hover {
	-webkit-text-decoration: underline;
	text-decoration: underline;
}
a[href].header-anchor:focus,
:hover > a[href].header-anchor {
	color: #aaa;
}

article {
	color: rgb(34, 32, 35)
	--link-color-active: rgb(205, 38, 83);
	color: var(--text-color);
}

.screen-reader-text {
  visibility: hidden;
}

.post-navigation {
  padding: 2em 0;
  text-align: left;
  overflow: hidden;
}

.post-navigation a {
  display: block;
  width: 100%;
  -webkit-text-decoration: none;
  text-decoration: none;
  padding: 1em;
  border: 1px solid black;
}


@media screen and (min-width: 43.75em) {
  .nav-links {
    display: flex;
    justify-content: space-between;
    align-items: stretch;
    padding: 0;
  }

	.post-navigation .nav-previous,
  .post-navigation .nav-next {
    float: left;
    display: flex;
    align-items: stretch;
    width: 48%;
  }

	.post-navigation .nav-next {
    float: right;
    text-align: right;
  }
  .post-navigation .nav-previous {
    padding-bottom: 0;
  }
}

.post-navigation .meta-nav {
  display: block;
}

@media screen and (min-width: 30em) {
  .post-navigation {
    padding-bottom: 1em;
  }
}

.post-navigation .post-title {
  font-size: 1.2em;
  font-weight: 700;
  border-bottom: 3px solid rgb(34, 32, 35)
	--link-color-active: rgb(205, 38, 83);
  border-bottom: 3px solid var(--text-color);
}

.post-navigation a:hover .post-title,
.post-navigation a:focus .post-title {
  border-bottom-color: rgb(205, 38, 83);
  border-bottom-color: var(--link-color);
}

/* Archive pagination */
nav.archive-pagination {
	display: flex;
	flex-direction: row;
	justify-content: space-between;
	margin-top: 4rem;
	margin-bottom: 2rem;
}

.admonition {
	border: 1px solid rgb(34, 32, 35)
	--link-color-active: rgb(205, 38, 83);
	border: 1px solid var(--text-color);
  border-radius: 20px;
  padding: 1rem;
}

.admonition.admonition-title {
		font-weight: 700;
		font-size: 125%;
	}

.admonition.info,
	.admonition.note {
		background-color: rgba(36, 48, 194, 0.4);
	}

.admonition.tip {
		background-color: rgba(102, 0, 205, 0.4);
	}

@media (color-gamut: p3){
.admonition.tip {
		background-color: color(display-p3 0.36369 0.0461 0.77452 / 0.4);
	}
}

.admonition.warning,
	.admonition.bug {
		background-color: rgba(255, 221, 15, 0.5);
	}

@media (color-gamut: p3){
.admonition.warning,
	.admonition.bug {
		background-color: color(display-p3 0.98512 0.87141 0.26925 / 0.5);
	}
}

.admonition.danger,
	.admonition.failure {
		background-color: rgba(255, 85, 2, 0.4);
	}

.admonition.success {
		background-color: rgba(11, 138, 18, 0.4);
	}


.kbd, kbd {
  font-size: .9em;
  padding: .0625rem .5rem;
  border-radius: .125rem;
  border: 1px solid rgb(6, 54, 93);
  box-shadow: 1px 1px 0 rgb(6, 54, 93), 2px 2px 0 rgb(6, 54, 93);
  margin: 0 .25rem;
  color: rgb(6, 54, 93);
}

blockquote {
  border-left: 4px solid rgb(0, 16, 118);
  border-left: 4px solid color(display-p3 0 0 0.4818);
  padding-left: 1rem;
}

code, kbd, tt, var {
  --recursive-mono: 1;
  font-size: 1rem;
}

abbr, acronym {
  border-bottom: 1px dotted rgb(102, 102, 102);
  cursor: help;
}

mark, ins {
  background: rgb(255, 249, 192);
  -webkit-text-decoration: none;
  text-decoration: none;
}

big {
  font-size: 125%;
}

/* Footnotes */
.footnotes-list::before {
	content: 'Notes: \A\A';
	font-size: 1.25em;
	font-weight: 700;
	margin-right: 1em;
	white-space: pre;
	color: rgb(34, 32, 35)
	--link-color-active: rgb(205, 38, 83);
	color: var(--text-color);
}

/* Override default UL styles*/
ul {
  list-style-type: disclosure-closed;
}

ul li::marker {
  font-size: 1.1rem;
  color: rgb(205, 38, 83);
  color: var(--link-color);
}

/* Override default OL styles */
ol li {
  list-style-type: decimal-leading-zero;
  margin-left: 1rem;
}

ol li::marker {
  font-size: .7rem;
  color: rgb(205, 38, 83);
  color: var(--link-color);
}

/* custom OL styles using declaration at the top of the file */
.custom-ordered li {
  list-style-type: circled-decimal;
  margin-bottom: 0.5rem;
}

.custom-ordered li::marker {
  font-size: 1rem;
  color: rgb(205, 38, 83);
  color: var(--link-color);
}

lite-vimeo {
	width: 720px;
	max-width: 720px;
	height: auto;
}

.footer {
	display: flex;
	flex-direction: row;
	justify-content: space-evenly;
	color: rgb(255, 254, 252);
	color: var(--color-white);
	background: rgb(34, 32, 35);
	background: var(--color-black);
}

@media (prefers-color-scheme: dark) {
	:root {
		--color-gray-20: rgb(224, 224, 224);
		--color-gray-50: rgb(192, 192, 192);
		--color-gray-90: rgb(218, 216, 216);

		/* --text-color is assigned to --color-gray-_ above */

		--text-color: rgb(255,255,255);
    --link-color: rgb(21, 147, 251);
		--link-color-active: rgb(105, 105, 247);
		--link-color-visited: rgb(166, 166, 248);

		--background-color: rgb(21, 32, 43);
	}

	.post-navigation .nav-previous a::before {
		color: rgb(255, 254, 252);
		color: var(--color-white);
	}

	.post-navigation .nav-next a::before {
		color: rgb(255, 254, 252);
		color: var(--color-white);
	}

	thead tr {
		background: rgb(255, 254, 252);
		background: var(--color-white);
		color: rgb(34, 32, 35);
		color: var(--color-black);
	}

}

/*
30rem = 480px (assuming 16px base)
3. 75rem = 1200px (current layout)
2. 50rem = 800px
1. 34rem = 544px
*/


@media (min-width: 34.001rem) and (max-width: 50rem) {
	/* Set the grid container dimensions */
	.grid-container {
		display: grid;
		grid-template-columns: 1fr 2fr 2fr 1fr;
		grid-gap: 1rem;
		gap: 1rem;
	}

	img.full-bleed-header {
		grid-column: 1/-1;
		width: 100% !important;
		height: auto;
	}


	/* Grid placement */
	header {
		grid-column: 2/4;
	}

	.nav-top-menu{
		grid-column: 2/4;
	}

	main {
		grid-column: 2/4;
	}

	footer {
		grid-column: 1/-1;
	}
}

/* smaller mobile devices */
@media screen and (max-width: 34rem) {
	/* Play with the heading size values here*/
  :root {
		--base-font-size: 1.5;
		--h1-size: 1.526;
		--h2-size: 1.120;
		--h3-size: 0.977;
		--h4-size: 0.782;
		--h5-size: 0.625;
	}

	img.full-bleed-header {
		width: 100% !important;
	}

	.grid-container {
		display: block;
		width: 80vw;
		margin: 0 auto;
	}

	.nav-top-menu {
		display: flex;
		flex-flow: row;
	}

	.continue-reading {
		align-self: center;
	}

	.footer {
		display: block;
		color: rgb(34, 32, 35);
		color: var(--color-black);
		background: rgb(255, 254, 252);
		background: var(--color-white);
	}
}

.nav-links {
  margin: 0 auto;
  padding: 0 0.4em;
}

.nav-previous {
  padding-bottom: 1em;
}

.post-navigation .nav-next a::before {
  content: 'Next Post \2192 \A\A';
  font-size: 1.25em;
  font-weight: 700;
  margin-right: 1em;
  white-space: pre;
  color: rgb(34, 32, 35);
  color: var(--color-black);
}

.post-navigation .nav-previous a::before {
  content: '\2190 Previous Post \A\A';
  font-size: 1.25em;
  font-weight: 700;
  margin-right: 1em;
  white-space: pre;
  color: rgb(34, 32, 35);
  color: var(--color-black);
}

.nav-previous a,
.nav-next a
.nav-previous a::hover,
.nav-next a::hover {
	color: rgb(205, 38, 83);
	color: var(--link-color)
}

.iconfont::before {
	content: var(--icon);
	font-family: bootstrap-icons;
	display: inline-block;
	/* vertical-align: -0.1em; */
	margin-right: 0.5em;
}

.published {
	--icon: var(--icon-date);
}

.readingtime {
	--icon: var(--icon-stopwatch);
}
